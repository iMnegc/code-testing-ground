import{j as g,s as $,t as Y,v as L,k as v,l as Oe,n as je,at as Me,V as Z,ay as se,aj as Ne,a as f,P as M,al as ee,a9 as Re,h as Te,D as Fe,I as Ae,F as We,q as N,y as pe,o as _,c as ne,z as te,C as me,e as R,b as De,r as O,E as j,O as Ge,w as S,A as B,ad as ue,B as He,H as qe,J as Ze}from"./index-DM9u3KzT.js";import{o as Ke,p as Ue,F as Je,E as Qe,I as ce,u as Xe}from"./index-JRQQbpTd.js";import{b as Ye,u as he,B as en}from"./index-BY_Z3AGv.js";function nn(e){const t=g();function n(){if(!e.value)return;const{selectionStart:i,selectionEnd:s,value:l}=e.value;if(i==null||s==null)return;const p=l.slice(0,Math.max(0,i)),o=l.slice(Math.max(0,s));t.value={selectionStart:i,selectionEnd:s,value:l,beforeTxt:p,afterTxt:o}}function u(){if(!e.value||!t.value)return;const{value:i}=e.value,{beforeTxt:s,afterTxt:l,selectionStart:p}=t.value;if(!s||!l||!p)return;let o=i.length;if(i.endsWith(l))o=i.length-l.length;else if(i.startsWith(s))o=s.length;else{const c=s[p-1],k=i.indexOf(c,p-1);k!==-1&&(o=k+1)}e.value.setSelectionRange(o,o)}return[n,u]}var tn=Object.defineProperty,de=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,fe=(e,t,n)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))an.call(t,n)&&fe(e,n,t[n]);if(de)for(var n of de(t))ln.call(t,n)&&fe(e,n,t[n]);return e},I=$({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,t)=>!0,change:(e,t)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:n,attrs:u}){const{size:i,disabled:s,error:l,modelValue:p}=Y(e),o=L("input"),c=g(),{mergedSize:k,mergedDisabled:m,mergedError:C,feedback:z,eventHandlers:x}=Ye({size:i,disabled:s,error:l}),{mergedSize:ae}=he(k),[be,ye]=nn(c),T=g(e.defaultValue),b=v(()=>{var a;return(a=e.modelValue)!=null?a:T.value});Oe(p,a=>{(je(a)||Me(a))&&(T.value="")});let F=b.value;const A=g(!1),ge=v(()=>e.allowClear&&!m.value&&!!b.value),P=g(!1),le=g(""),w=a=>{var r;return Ne(e.wordLength)?e.wordLength(a):(r=a.length)!=null?r:0},V=v(()=>w(b.value)),oe=v(()=>C.value||!!(Z(e.maxLength)&&e.maxLength.errorOnly&&V.value>h.value)),W=v(()=>Z(e.maxLength)&&!!e.maxLength.errorOnly),h=v(()=>Z(e.maxLength)?e.maxLength.length:e.maxLength),_e=v(()=>{const a=w("a");return Math.floor(h.value/a)}),D=a=>{var r,d;h.value&&!W.value&&w(a)>h.value&&(a=(d=(r=e.wordSlice)==null?void 0:r.call(e,a,h.value))!=null?d:a.slice(0,_e.value)),T.value=a,t("update:modelValue",a)},$e=a=>{c.value&&a.target!==c.value&&(a.preventDefault(),c.value.focus())},G=(a,r)=>{var d,y;a!==F&&(F=a,t("change",a,r),(y=(d=x.value)==null?void 0:d.onChange)==null||y.call(d,r))},ke=a=>{var r,d;A.value=!0,F=b.value,t("focus",a),(d=(r=x.value)==null?void 0:r.onFocus)==null||d.call(r,a)},Ce=a=>{var r,d;A.value=!1,G(b.value,a),t("blur",a),(d=(r=x.value)==null?void 0:r.onBlur)==null||d.call(r,a)},H=a=>{var r,d,y;const{value:q,selectionStart:Ve,selectionEnd:Ee}=a.target;if(a.type==="compositionend"){if(P.value=!1,le.value="",h.value&&!W.value&&V.value>=h.value&&w(q)>h.value&&Ve===Ee){E();return}D(q),t("input",q,a),(d=(r=x.value)==null?void 0:r.onInput)==null||d.call(r,a),E()}else P.value=!0,le.value=b.value+((y=a.data)!=null?y:"")},E=()=>{be(),Fe(()=>{c.value&&b.value!==c.value.value&&(c.value.value=b.value,ye())})},xe=a=>{var r,d;const{value:y}=a.target;if(!P.value){if(h.value&&!W.value&&V.value>=h.value&&w(y)>h.value&&a.inputType==="insertText"){E();return}D(y),t("input",y,a),(d=(r=x.value)==null?void 0:r.onInput)==null||d.call(r,a),E()}},we=a=>{D(""),G("",a),t("clear",a)},Se=a=>{const r=a.key||a.code;!P.value&&r===Qe.key&&(G(b.value,a),t("pressEnter",a))},Be=v(()=>[`${o}-outer`,`${o}-outer-size-${ae.value}`,{[`${o}-outer-has-suffix`]:!!n.suffix,[`${o}-outer-disabled`]:m.value}]),Ie=v(()=>[`${o}-wrapper`,{[`${o}-error`]:oe.value,[`${o}-disabled`]:m.value,[`${o}-focus`]:A.value}]),Le=v(()=>[o,`${o}-size-${ae.value}`]),re=v(()=>Ke(u,se)),ze=v(()=>Ue(u,se)),Pe=v(()=>{const a=ve(ve({},ze.value),e.inputAttrs);return oe.value&&(a["aria-invalid"]=!0),a}),ie=a=>{var r;return f("span",M({class:Ie.value,onMousedown:$e},a?void 0:re.value),[n.prefix&&f("span",{class:`${o}-prefix`},[n.prefix()]),f("input",M({ref:c,class:Le.value,value:b.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:m.value,onInput:xe,onKeydown:Se,onFocus:ke,onBlur:Ce,onCompositionstart:H,onCompositionupdate:H,onCompositionend:H},Pe.value),null),ge.value&&f(ee,{prefix:o,class:`${o}-clear-btn`,onClick:we},{default:()=>[f(Re,null,null)]}),(n.suffix||!!e.maxLength&&e.showWordLimit||!!z.value)&&f("span",{class:[`${o}-suffix`,{[`${o}-suffix-has-feedback`]:z.value}]},[!!e.maxLength&&e.showWordLimit&&f("span",{class:`${o}-word-limit`},[V.value,Te("/"),h.value]),(r=n.suffix)==null?void 0:r.call(n),!!z.value&&f(Je,{type:z.value},null)])])};return{inputRef:c,render:()=>n.prepend||n.append?f("span",M({class:Be.value},re.value),[n.prepend&&f("span",{class:`${o}-prepend`},[n.prepend()]),ie(!0),n.append&&f("span",{class:`${o}-append`},[n.append()])]):ie()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),K=$({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,t)=>!0},setup(e,{emit:t,slots:n}){const{size:u}=Y(e),i=L("input-search"),{mergedSize:s}=he(u),l=g(),p=m=>{l.value.inputRef&&t("search",l.value.inputRef.value,m)},o=()=>{var m;return f(We,null,[e.loading?f(Ae,null,null):f(ee,{onClick:p},{default:()=>[f(ce,null,null)]}),(m=n.suffix)==null?void 0:m.call(n)])},c=()=>{var m;let C={};return e.buttonText||n["button-default"]||n["button-icon"]?C={default:(m=n["button-default"])!=null?m:e.buttonText?()=>e.buttonText:void 0,icon:n["button-icon"]}:C={icon:()=>f(ce,null,null)},f(en,M({type:"primary",class:`${i}-btn`,disabled:e.disabled,size:s.value,loading:e.loading},e.buttonProps,{onClick:p}),C)};return{inputRef:l,render:()=>f(I,{ref:l,class:i,size:s.value,disabled:e.disabled},{prepend:n.prepend,prefix:n.prefix,suffix:e.searchButton?n.suffix:o,append:e.searchButton?c:n.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const on=$({name:"IconEye",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=L("icon"),u=v(()=>[n,`${n}-eye`,{[`${n}-spin`]:e.spin}]),i=v(()=>{const l={};return e.size&&(l.fontSize=pe(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l});return{cls:u,innerStyle:i,onClick:l=>{t("click",l)}}}}),rn=["stroke-width","stroke-linecap","stroke-linejoin"],sn=R("path",{"clip-rule":"evenodd",d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z"},null,-1),un=R("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},null,-1),cn=[sn,un];function dn(e,t,n,u,i,s){return _(),ne("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...l)=>e.onClick&&e.onClick(...l))},cn,14,rn)}var U=N(on,[["render",dn]]);const fn=Object.assign(U,{install:(e,t)=>{var n;const u=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(u+U.name,U)}}),vn=$({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:t}){const n=L("icon"),u=v(()=>[n,`${n}-eye-invisible`,{[`${n}-spin`]:e.spin}]),i=v(()=>{const l={};return e.size&&(l.fontSize=pe(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l});return{cls:u,innerStyle:i,onClick:l=>{t("click",l)}}}}),pn=["stroke-width","stroke-linecap","stroke-linejoin"],mn=R("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),hn=R("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),bn=[mn,hn];function yn(e,t,n,u,i,s){return _(),ne("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:te(e.cls),style:me(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:t[0]||(t[0]=(...l)=>e.onClick&&e.onClick(...l))},bn,14,pn)}var J=N(vn,[["render",yn]]);const gn=Object.assign(J,{install:(e,t)=>{var n;const u=(n=t==null?void 0:t.iconPrefix)!=null?n:"";e.component(u+J.name,J)}}),_n=$({name:"InputPassword",components:{IconEye:fn,IconEyeInvisible:gn,AIconHover:ee,AInput:I},props:{visibility:{type:Boolean,default:void 0},defaultVisibility:{type:Boolean,default:!0},invisibleButton:{type:Boolean,default:!0}},emits:["visibility-change","update:visibility"],setup(e,{emit:t}){const{visibility:n,defaultVisibility:u}=Y(e),i=g(),s=()=>{o(!l.value)},[l,p]=Xe(u.value,De({value:n})),o=c=>{c!==l.value&&(t("visibility-change",c),t("update:visibility",c),p(c))};return{inputRef:i,mergedVisible:l,handleInvisible:s}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function $n(e,t,n,u,i,s){const l=O("icon-eye"),p=O("icon-eye-invisible"),o=O("a-icon-hover"),c=O("a-input");return _(),j(c,{ref:"inputRef",type:e.mergedVisible?"password":"text"},Ge({_:2},[e.$slots.prepend?{name:"prepend",fn:S(()=>[B(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:S(()=>[B(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:S(()=>[e.invisibleButton?(_(),j(o,{key:0,onClick:e.handleInvisible,onMousedown:t[0]||(t[0]=ue(()=>{},["prevent"])),onMouseup:t[1]||(t[1]=ue(()=>{},["prevent"]))},{default:S(()=>[e.mergedVisible?(_(),j(p,{key:1})):(_(),j(l,{key:0}))]),_:1},8,["onClick"])):He("v-if",!0),B(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:S(()=>[B(e.$slots,"append")])}:void 0]),1032,["type"])}var Q=N(_n,[["render",$n]]);const kn=$({name:"InputGroup",setup(){return{prefixCls:L("input-group")}}});function Cn(e,t,n,u,i,s){return _(),ne("div",{class:te(e.prefixCls)},[B(e.$slots,"default")],2)}var X=N(kn,[["render",Cn]]);const In=Object.assign(I,{Search:K,Password:Q,Group:X,install:(e,t)=>{qe(e,t);const n=Ze(t);e.component(n+I.name,I),e.component(n+X.name,X),e.component(n+K.name,K),e.component(n+Q.name,Q)}});export{In as I,Q as a,fn as b};
