/* empty css              */import{B as M}from"./index-BY_Z3AGv.js";import{M as F}from"./index-BGhGOFtc.js";import"./index-JRQQbpTd.js";import{O as k,S as I}from"./index-BmD7ocoD.js";import"./index-BDhnDJro.js";import"./index-nDNnRQLB.js";import{T as N,P as j}from"./index-BgLNurpo.js";import{S as W}from"./index-Bxqwtw46.js";import{D as L}from"./DepartmentLayout-BUkH5X50.js";import{_ as b,o as m,c as h,e as u,A as T,a as e,w as t,h as o,p as x,i as S,b as H,d as P,F as A,z as y,E as D,B as U}from"./index-DM9u3KzT.js";import"./index-BQjuUXoM.js";import{F as O}from"./index-BhqmT-N8.js";import{I as d}from"./ImFormItem-DwgMoUfP.js";import{I as z}from"./index-B93Mo-LB.js";import"./use-teleport-container-C4MI57Bu.js";import"./keyboard-DgN-yNuq.js";import"./index-b-VCEi3L.js";import"./index.es-BW_FzNZC.js";import"./get-value-by-path-C5ywhipK.js";const q={createDevice(n){return n?$axios.post("/v1/device",n):null},getDeviceList(n={offset:"0",limit:"10"}){return Object.keys(n).length<2||!n.offset&&!n.limit?null:$axios.get(`/v1/device?offset=${n.offset}&limit=${n.limit}`)},getDeviceMock(){return $axios.get("/public/device.json")}},G={},J={class:"warehouse-entry-layer"},K={class:"warehouse-entry-layer-header"},Q={class:"warehouse-entry-layer-main"};function R(n,a){return m(),h("div",J,[u("div",K,[T(n.$slots,"header",{},void 0,!0)]),u("div",Q,[T(n.$slots,"main",{},void 0,!0)])])}const X=b(G,[["render",R],["__scopeId","data-v-3c847b98"]]),Y=n=>(x("data-v-b4b2cee7"),n=n(),S(),n),Z={class:"warehouse-entry-device"},ee=Y(()=>u("div",{class:"filter-warehouse-entry-device flex-start"},[u("h3",null,"设备入库")],-1)),te={__name:"WarehouseEntryDevice",props:{data:{type:Object,default:{}}},emits:["offset"],setup(n,{emit:a}){const v=n;return(p,g)=>{const s=k,f=I,i=z,l=O;return m(),h("div",Z,[ee,e(l,{model:v.data},{default:t(()=>[e(d,{label:"设备类型"},{default:t(()=>[e(f,{placeholder:"请选择"},{default:t(()=>[e(s,{value:"测斜仪"},{default:t(()=>[o("测斜仪")]),_:1}),e(s,{value:"钢筋计"},{default:t(()=>[o("钢筋计")]),_:1}),e(s,{value:"水位计"},{default:t(()=>[o("水位计")]),_:1}),e(s,{value:"激光仪"},{default:t(()=>[o("激光仪")]),_:1}),e(s,{value:"轴力计"},{default:t(()=>[o("轴力计")]),_:1})]),_:1})]),_:1}),e(d,{label:"设备名称"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"设备状态"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"设备ID"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"入库签名"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"生产日期"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"生产批次"},{default:t(()=>[e(i)]),_:1})]),_:1},8,["model"])])}}},ae=b(te,[["__scopeId","data-v-b4b2cee7"]]),le=n=>(x("data-v-d2f8bbd6"),n=n(),S(),n),oe={class:"warehouse-entry-device"},ne=le(()=>u("div",{class:"filter-warehouse-entry-device flex-start"},[u("h3",null,"辅材入库")],-1)),ie={__name:"WarehouseEntryOther",props:{data:{type:Object,default:{}}},emits:["offset"],setup(n,{emit:a}){const v=n;return(p,g)=>{const s=k,f=I,i=z,l=O;return m(),h("div",oe,[ne,e(l,{model:v.data},{default:t(()=>[e(d,{label:"辅材类型"},{default:t(()=>[e(f,{placeholder:"请选择"},{default:t(()=>[e(s,{value:"测斜仪"},{default:t(()=>[o("线缆")]),_:1}),e(s,{value:"钢筋计"},{default:t(()=>[o("胶带")]),_:1}),e(s,{value:"水位计"},{default:t(()=>[o("挂钩")]),_:1})]),_:1})]),_:1}),e(d,{label:"辅材规格"},{default:t(()=>[e(f,{placeholder:"请选择"},{default:t(()=>[e(s,{value:"测斜仪"},{default:t(()=>[o("11")]),_:1}),e(s,{value:"钢筋计"},{default:t(()=>[o("12")]),_:1}),e(s,{value:"水位计"},{default:t(()=>[o("13")]),_:1}),e(s,{value:"激光仪"},{default:t(()=>[o("14")]),_:1}),e(s,{value:"轴力计"},{default:t(()=>[o("15")]),_:1})]),_:1})]),_:1}),e(d,{label:"设备名称"},{default:t(()=>[e(i,{placeholder:"请输入"})]),_:1}),e(d,{label:"设备状态"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"设备ID"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"入库签名"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"生产日期"},{default:t(()=>[e(i)]),_:1}),e(d,{label:"生产批次"},{default:t(()=>[e(i)]),_:1})]),_:1},8,["model"])])}}},se=b(ie,[["__scopeId","data-v-d2f8bbd6"]]),$=n=>(x("data-v-6001e407"),n=n(),S(),n),de={class:"device-filter-item flex-between"},re=$(()=>u("label",{class:"filter-label"},"设备型号：",-1)),ue={class:"device-filter-item flex-between"},ce=$(()=>u("label",{class:"filter-label"},"设备状态：",-1)),_e=$(()=>u("span",null,"库存操作",-1)),pe={class:"top-babar"},fe={__name:"Manager",setup(n){const a=H({tab:1,pagination:{limit:1,size:10},columns:[{title:"设备流水号",dataIndex:"deviceOlderCode"},{title:"设备型号",dataIndex:"deviceType"},{title:"设备名称",dataIndex:"deviceName"},{title:"设备ID",dataIndex:"deviceID"},{title:"设备状态",dataIndex:"deviceStatus",width:90},{title:"入库时间",dataIndex:"warehouseEntryTime"},{title:"出库时间",dataIndex:"deliveryTime"},{title:"操作人",dataIndex:"perssion",width:110},{title:"操作",slotName:"optional",width:120}],data:[],filterColumns:[],keywords:{option:[],deviceType:"",deviceState:""},store:{dialog:!1,formData:{},type:"input-device"}});function v(){q.getDeviceMock().then(i=>{i.status===200&&(a.data=i.data,a.keywords.option=i.data)}).catch(i=>console.log(i))}function p(i){a.tab=i;const l={1:["出库时间","入库时间","设备流水号"],2:["入库时间"],3:["出库时间"]};a.filterColumns=a.columns.filter(c=>!l[i].includes(c.title))}function g(){let i=[a.keywords.deviceType,a.keywords.deviceState];a.data=a.keywords.option.filter(l=>a.keywords.deviceType.length&&!a.keywords.deviceState.length?i[0]===l.deviceType:!a.keywords.deviceType.length&&a.keywords.deviceState.length?i[1]===l.deviceStatus:i.includes(l.deviceType)&&i.includes(l.deviceStatus))}function s(){a.store.dialog=!1}function f(){a.store.formData={},a.store.type="input-device",a.store.dialog=!1}return P(()=>{p(1),v()}),(i,l)=>{const c=M,w=W,_=k,C=I,V=N,E=j,B=F;return m(),h(A,null,[e(L,null,{header:t(()=>[e(w,{class:"device-manager-header-tab"},{default:t(()=>[e(c,{onClick:l[0]||(l[0]=()=>p(1)),class:y({"device-active":a.tab===1})},{default:t(()=>[o("库存记录 ")]),_:1},8,["class"]),e(c,{onClick:l[1]||(l[1]=()=>p(2)),class:y({"device-active":a.tab===2})},{default:t(()=>[o("出库记录 ")]),_:1},8,["class"]),e(c,{onClick:l[2]||(l[2]=()=>p(3)),class:y({"device-active":a.tab===3})},{default:t(()=>[o("入库记录 ")]),_:1},8,["class"])]),_:1})]),filter:t(()=>[e(w,{class:"device-manager-header-filter"},{default:t(()=>[u("div",de,[re,e(C,{modelValue:a.keywords.deviceType,"onUpdate:modelValue":l[3]||(l[3]=r=>a.keywords.deviceType=r),placeholder:"状态筛选"},{default:t(()=>[e(_,null,{default:t(()=>[o("测斜仪")]),_:1}),e(_,null,{default:t(()=>[o("水位计")]),_:1}),e(_,null,{default:t(()=>[o("钢筋计")]),_:1}),e(_,null,{default:t(()=>[o("轴力计")]),_:1}),e(_,null,{default:t(()=>[o("激光仪")]),_:1}),e(_,null,{default:t(()=>[o("辅材-线缆")]),_:1}),e(_,null,{default:t(()=>[o("辅材-胶带")]),_:1}),e(_,null,{default:t(()=>[o("辅材-挂钩")]),_:1})]),_:1},8,["modelValue"])]),u("div",ue,[ce,e(C,{modelValue:a.keywords.deviceState,"onUpdate:modelValue":l[4]||(l[4]=r=>a.keywords.deviceState=r),placeholder:"状态筛选"},{default:t(()=>[e(_,{value:"正常"},{default:t(()=>[o("正常")]),_:1}),e(_,{value:"返修"},{default:t(()=>[o("返修")]),_:1}),e(_,{value:"报废"},{default:t(()=>[o("报废")]),_:1})]),_:1},8,["modelValue"])]),e(c,{type:"primary",onClick:g},{default:t(()=>[o("搜索")]),_:1}),e(c,{type:"primary",status:"warning",onClick:l[5]||(l[5]=r=>a.data=a.keywords.option)},{default:t(()=>[o("重置")]),_:1}),e(c,{type:"primary",status:"danger",onClick:l[6]||(l[6]=r=>a.store.dialog=!0)},{default:t(()=>[o("手工录入")]),_:1})]),_:1})]),main:t(()=>[e(V,{pagination:!1,bordered:{cell:!0},columns:a.filterColumns,data:a.data.slice((a.pagination.limit-1)*a.pagination.size,a.pagination.limit*a.pagination.size)},{optional:t(({record:r})=>[e(c,{size:"mini",type:"primary",status:"success",onClick:l[7]||(l[7]=me=>a.dialog=!0)},{default:t(()=>[o("查看")]),_:1})]),_:1},8,["columns","data"])]),pagination:t(()=>[e(E,{total:a.data.length,page:a.pagination.size,current:a.pagination.limit,onChange:l[8]||(l[8]=r=>a.pagination.limit=r),onPageSizeChange:l[9]||(l[9]=r=>a.pagination.size=r),"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","page","current"])]),_:1}),e(B,{width:"auto",titleAlign:"start",visible:a.store.dialog,onOk:s,onCancel:f,okText:"确认提交",cancelText:"取消提交",unmountOnClose:""},{title:t(()=>[_e]),default:t(()=>[e(X,null,{header:t(()=>[u("div",pe,[e(w,null,{default:t(()=>[e(c,{class:y({"device-active":a.store.type==="input-device"}),onClick:l[10]||(l[10]=r=>a.store.type="input-device")},{default:t(()=>[o("设备入库 ")]),_:1},8,["class"]),e(c,{class:y({"device-active":a.store.type==="input-other"}),onClick:l[11]||(l[11]=r=>a.store.type="input-other")},{default:t(()=>[o("辅材入库 ")]),_:1},8,["class"])]),_:1})])]),main:t(()=>[a.store.type==="input-device"?(m(),D(ae,{key:0})):a.store.type==="input-other"?(m(),D(se,{key:1})):U("",!0)]),_:1})]),_:1},8,["visible"])],64)}}},Fe=b(fe,[["__scopeId","data-v-6001e407"]]);export{Fe as default};
